

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Predictions of Flight Path &mdash; kOS 1.1.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/kos_theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
        <link rel="copyright" title="Copyright" href="../copyright.html"/>
    <link rel="top" title="kOS 1.1.3.0 documentation" href="../index.html"/>
        <link rel="up" title="Command Reference" href="../commands.html"/>
        <link rel="next" title="LIST Command" href="list.html"/>
        <link rel="prev" title="Ship Systems" href="flight/systems.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../contents.html" class="icon icon-home"> kOS
          

          
            
            <img src="../_static/kos_logo_small.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.1.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contents.html">Table of Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads_links.html">Downloads and Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library.html">Community Example Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math.html">Mathematics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../commands.html">Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="runprogram.html">Running Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="flight.html">Flight Control</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html">Listing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="parts.html">Parts Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="files.html">File I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="terminalgui.html">Terminal and GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="serialization.html">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="communication.html">Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="resource_transfer.html">Resource Transfer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structures.html">Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addons.html">Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">kOS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../contents.html">Docs</a> &raquo;</li>
      
          <li><a href="../commands.html">Command Reference</a> &raquo;</li>
      
    <li>Predictions of Flight Path</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/commands/prediction.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="predictions-of-flight-path">
<h1>Predictions of Flight Path<a class="headerlink" href="#predictions-of-flight-path" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Manipulating the maneuver nodes</strong></p>
<p>To alter the maneuver nodes on a vessel&#8217;s flight plan, use the ADD and REMOVE commands as described on the <a class="reference internal" href="../structures/vessels/node.html#maneuver-node"><span>maneuver node manipulation page</span></a>.</p>
<p class="last">Using the Add and Remove commands as described on that page, you may alter the flight plan of the CPU_vessel, however kOS does not automatically execute the nodes. You still have to write the code to decide how to successfully execute a planned maneuver node.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Be aware that a limitation of KSP makes it so that some vessels&#8217;
maneuver node systems cannot be accessed.  KSP appears to limit the
maneuver node system to only functioning on the current PLAYER
vessel, under the presumption that its the only vessel that needs
them, as ever other vessel cannot be maneuvered. kOS can maneuver a
vessel that is not the player vessel, but it cannot overcome this
limitation of the base game that unloads the maneuver node system
for other vessels.</p>
<p class="last">Be aware that the effect this has is that when you try to predict
another vessel&#8217;s position, it will sometimes give you answers that
presume that other vessel will be purely drifting, and not following
its maneuver nodes.</p>
</div>
<p>The following prediction functions do take into account the future maneuver nodes planned, and operate under the assumption that they will be executed as planned.</p>
<p>These return predicted information about the future position and velocity of an object.</p>
<dl class="function">
<dt id="function:POSITIONAT">
<code class="descname">POSITIONAT</code><span class="sig-paren">(</span>orbitable,time<span class="sig-paren">)</span><a class="headerlink" href="#function:POSITIONAT" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orbitable</strong> &#8211; A <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a>, <a class="reference internal" href="../structures/celestial_bodies/body.html#structure:BODY" title="BODY structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Body</span></code></a> or other <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> object</li>
<li><strong>time</strong> &#8211; Time of prediction</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type orbitable:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type time:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/misc/time.html#structure:TIMESPAN" title="TIMESPAN structure"><code class="xref ks ks-struct docutils literal"><span class="pre">TimeSpan</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A position <a class="reference internal" href="../math/vector.html#structure:VECTOR" title="VECTOR structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vector</span></code></a> expressed as the coordinates in the <a class="reference internal" href="../math/ref_frame.html#ship-raw"><span>ship-center-raw-rotation</span></a> frame</p>
</td>
</tr>
</tbody>
</table>
<p>Returns a prediction of where the <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> will be at some <a class="reference internal" href="../structures/misc/time.html#timestamp"><span>universal Timestamp</span></a>. If the <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> is a <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a>, and the <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a> has planned <a class="reference internal" href="../structures/vessels/node.html#maneuver-node"><span>maneuver nodes</span></a>, the prediction assumes they will be executed exactly as planned.</p>
<p><em>Prerequisite:</em>  If you are in a career mode game rather than a
sandbox mode game, This function requires that you have your space
center&#8217;s buildings advanced to the point where you can make maneuver
nodes on the map view, as described in <code class="xref ks ks-struct docutils literal"><span class="pre">Career:CANMAKENODES</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="function:VELOCITYAT">
<code class="descname">VELOCITYAT</code><span class="sig-paren">(</span>orbitable,time<span class="sig-paren">)</span><a class="headerlink" href="#function:VELOCITYAT" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orbitable</strong> &#8211; A <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a>, <a class="reference internal" href="../structures/celestial_bodies/body.html#structure:BODY" title="BODY structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Body</span></code></a> or other <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> object</li>
<li><strong>time</strong> &#8211; Time of prediction</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type orbitable:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type time:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/misc/time.html#structure:TIMESPAN" title="TIMESPAN structure"><code class="xref ks ks-struct docutils literal"><span class="pre">TimeSpan</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An <a class="reference internal" href="../structures/orbits/orbitablevelocity.html#orbitablevelocity"><span>ObitalVelocity</span></a> structure.</p>
</td>
</tr>
</tbody>
</table>
<p>Returns a prediction of what the <a class="reference internal" href="../structures/orbits/orbitable.html#orbitable"><span>Orbitable&#8217;s</span></a> velocity will be at some <a class="reference internal" href="../structures/misc/time.html#timestamp"><span>universal Timestamp</span></a>. If the <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> is a <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a>, and the <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a> has planned <code class="xref ks ks-struct docutils literal"><span class="pre">maneuver</span> <span class="pre">nodes</span></code>, the prediction assumes they will be executed exactly as planned.</p>
<p><em>Prerequisite:</em>  If you are in a career mode game rather than a
sandbox mode game, This function requires that you have your space
center&#8217;s buildings advanced to the point where you can make manuever
nodes on the map view, as described in <code class="xref ks ks-struct docutils literal"><span class="pre">Career:CANMAKENODES</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="function:ORBITAT">
<code class="descname">ORBITAT</code><span class="sig-paren">(</span>orbitable,time<span class="sig-paren">)</span><a class="headerlink" href="#function:ORBITAT" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>orbitable</strong> &#8211; A <a class="reference internal" href="../structures/vessels/vessel.html#vessel"><span>Vessel</span></a>, <a class="reference internal" href="../structures/celestial_bodies/body.html#structure:BODY" title="BODY structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Body</span></code></a> or other <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> object</li>
<li><strong>time</strong> &#8211; Time of prediction</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type orbitable:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type time:</th><td class="field-body"><p class="first"><a class="reference internal" href="../structures/misc/time.html#structure:TIMESPAN" title="TIMESPAN structure"><code class="xref ks ks-struct docutils literal"><span class="pre">TimeSpan</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An <a class="reference internal" href="../structures/orbits/orbit.html#structure:ORBIT" title="ORBIT structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbit</span></code></a> structure.</p>
</td>
</tr>
</tbody>
</table>
<p>Returns the <a class="reference internal" href="../structures/orbits/orbit.html#orbit"><span>Orbit patch</span></a> where the <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> object is predicted to be at some <a class="reference internal" href="../structures/misc/time.html#timestamp"><span>universal Timestamp</span></a>. If the <a class="reference internal" href="../structures/orbits/orbitable.html#structure:ORBITABLE" title="ORBITABLE structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Orbitable</span></code></a> is a <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a>, and the <a class="reference internal" href="../structures/vessels/vessel.html#structure:VESSEL" title="VESSEL structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Vessel</span></code></a> has planned <a class="reference internal" href="../structures/vessels/node.html#maneuver-node"><span>maneuver nodes</span></a>, the prediction assumes they will be executed exactly as planned.</p>
<p><em>Prerequisite:</em>  If you are in a career mode game rather than a
sandbox mode game, This function requires that you have your space
center&#8217;s buildings advanced to the point where you can make maneuver
nodes on the map view, as described in <code class="xref ks ks-struct docutils literal"><span class="pre">Career:CANMAKENODES</span></code>.</p>
</dd></dl>

<p>Examples:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="c1">//kOS</span>
<span class="c1">// test the future position and velocity prediction.</span>
<span class="c1">// Draws a position and velocity vector at a future predicted time.</span>

<span class="k">declare</span> <span class="kd">parameter</span> <span class="nv">item</span><span class="p">.</span> <span class="c1">// thing to predict for, i.e. SHIP.</span>
<span class="k">declare</span> <span class="kd">parameter</span> <span class="nv">offset</span><span class="p">.</span> <span class="c1">// how much time into the future to predict.</span>
<span class="k">declare</span> <span class="kd">parameter</span> <span class="nv">velScale</span><span class="p">.</span> <span class="c1">// how big to draw the velocity vectors.</span>
              <span class="c1">// If they&#39;re far from the camera you should draw them bigger.</span>


<span class="k">set</span> <span class="nv">predictUT</span> <span class="ow">to</span> <span class="nv">time</span> <span class="o">+</span> <span class="nv">offset</span><span class="p">.</span>
<span class="k">set</span> <span class="nv">stopProg</span> <span class="ow">to</span> <span class="nb">false</span><span class="p">.</span>

<span class="k">set</span> <span class="nv">futurePos</span> <span class="ow">to</span> <span class="nv">positionat</span><span class="p">(</span> <span class="nv">item</span><span class="p">,</span> <span class="nv">predictUT</span> <span class="p">).</span>
<span class="k">set</span> <span class="nv">futureVel</span> <span class="ow">to</span> <span class="nv">velocityat</span><span class="p">(</span> <span class="nv">item</span><span class="p">,</span> <span class="nv">predictUT</span> <span class="p">).</span>

<span class="k">set</span> <span class="nv">drawPos</span> <span class="ow">to</span> <span class="nv">vecdrawargs</span><span class="p">(</span> <span class="nv">v</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">0</span><span class="p">),</span> <span class="nv">futurePos</span><span class="p">,</span> <span class="nv">green</span><span class="p">,</span> <span class="s">&quot;future position&quot;</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="nb">true</span> <span class="p">).</span>
<span class="k">set</span> <span class="nv">drawVel</span> <span class="ow">to</span> <span class="nv">vecdrawargs</span><span class="p">(</span> <span class="nv">futurePos</span><span class="p">,</span> <span class="nv">velScale</span><span class="o">*</span><span class="nv">futureVel</span><span class="p">:</span><span class="nv">orbit</span><span class="p">,</span> <span class="nv">yellow</span><span class="p">,</span> <span class="s">&quot;future velocity&quot;</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="nb">true</span> <span class="p">).</span>
</pre></div>
</div>
<p>Example Screenshot:</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="list.html" class="btn btn-neutral float-right" title="LIST Command" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="flight/systems.html" class="btn btn-neutral" title="Ship Systems" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../copyright.html">Copyright</a> 2013-2016, Developed and maintained by kOS Team, Originally By Nivekk.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>